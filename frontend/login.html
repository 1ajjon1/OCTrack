<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="authors" content="Saravanan Rajeswaran; DJ Watson; Taleiven Goundan; Justin Le">
        <script src="../backend/dbServer.js"></script>
        <script src="../backend/apiHandler.js"></script>
        <link rel="stylesheet" type="text/css" href="Stylesheet/Stylesheet_A1.css">
        <link rel="preconnect" href="https://rsms.me/">
        <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
        <style>
             @font-face {
                font-family: Inter;
                src: url(fonts/Inter/Inter-Italic-VariableFont_opsz\,wght.ttf);
             }
            @font-face {
                font-family: Inter;
                src: url(fonts/Inter/static/Inter_18pt-Light.ttf);
            }
            @font-face {
                font-family: Inter;
                src: url(fonts/Inter/static/Inter_24pt-Light.ttf);
            }
            @font-face {
                font-family: Inter-28pt;
                src: url(fonts/Inter/static/Inter_28pt-Light.ttf);
            }
            
        </style>
    </head>
    <title>OCTrack - Home</title>
    <body>
        
        <img src = "images/IMG_4782.jpeg" class = ".transparent-gradient">
        <section>
            <img src="images/OC_Transpo_A1.jpg" class="layer-1">
            <div class="Rectangle"></div>
            <div class="physical-container"> 
                <h2>Client Registration</h2>
                <p>To book a trip with us, please register using your email.</p>   
                <p>Email: <input id="emailRegistration"></p>
                <p>Name: <input id="nameRegistration"></p>
                <p>Username: <input id="userRegistration"></p>
                <p>Password: <input id="passwordRegistration"></p>
                <p>Confirm password: <input id="passwordConfirmation"></p>
                
                <p id="regMsg"><br></p>
                <button id="registrationButton" onclick=registration()>Register</button>
            </div>

            <div class="physical-container" style="margin-left: 42%;">
                <h2>Login</h2>
                <p>Email: <input id="loginEmail"></p>
                <p>Password: <input id="loginPassword" type="password"></p>
                <button id="loginButton" onclick=login()>Login</button>
                <p id="loginMessage"></p>
            </div>
        </section>

        <div class="physical-container" style="margin-left: 150px;">
            <div class="travel-planner">
                <h2>Search for bus</h2>
                <p>Stop Number/Name<input id="stopIn"></p>
                <p>Route Number<input id="routeIn"></p>
                <button id="searchBtn">Search</button>
            </div>
        </div>
       
        
      


        <script>
                const onlybutton = document.querySelector("button"); 
                const msg_line = document.getElementById("msg"); 

                let parameter1 = false; 
                let parameter2 = false; 
                let parameter3 = false; 
                
                onlybutton.addEventListener("click", function(){
                    
                    // Checks if email has an at (@) and period (.)
                    var userEmail = document.getElementById("i1").value;            // Obtain value of i1  

                    if ((userEmail.indexOf('@') > 0) && (userEmail.indexOf('.') > 2)){   // IF valid user input
                        msg_line.innerText = "\n"; 
                        parameter1=true;
                    }
                    else { msg_line.innerText="Invalid email"; parameter1=false;}   // IF invalid user input



                    // Checks if username and name has a length of two or more characters. 
                    var name = document.getElementById("i2").value;                 // Obtain value of i2
                    var username = document.getElementById("i3").value;             // Obtain value of i3

                    if (name.length >= 2 && username.length >= 2){                  // IF valid user input
                        msg_line.innerText = "\n";
                        parameter2 = true; 
                    }    
                    else {msg_line.innerText="Name or username required"; parameter2=false; }  // IF invalid user input



                    // Confirms passwords and checks if length is 7 or more. 
                    var password = document.getElementById("i4").value; 
                    var confirmPassword = document.getElementById("i5").value; 
                    
                    if ((password == confirmPassword) && (password.length >= 7)) {msg_line.innerText = "\n"; parameter3=true;}
                    else {msg_line.innerText = "Password must be the same and have a length of 7 or more characters."; parameter3=false; } 

                    // Redirection to customer page.
                    if (parameter1==true && parameter2==true && parameter3==true)       { window.location.href="CustomerPage.php";}
                    else if (parameter1==true && parameter2==true && parameter3==true)  { msg_line.innerText="Enter information in the appropriate fields.";}
                    console.log(parameter1); 
                    console.log(parameter2); 
                    console.log(parameter3);

                }); 
        </script>

    </body>
    <script src="loginReg.js"></script>
</html>